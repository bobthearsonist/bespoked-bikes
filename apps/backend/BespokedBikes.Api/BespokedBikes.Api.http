### Get OpenAPI specification
GET {{BespokedBikes.Api_HostAddress}}/openapi/v1.json
Accept: application/json

### View Scalar API documentation
# Open in browser: {{BespokedBikes.Api_HostAddress}}/scalar/v1

### List all products
GET {{BespokedBikes.Api_HostAddress}}/api/products
Accept: application/json

### Create a new product
POST {{BespokedBikes.Api_HostAddress}}/api/products
Content-Type: application/json

{
  "productType": "Bike",
  "name": "Mountain Bike Pro",
  "description": "High-performance mountain bike",
  "supplier": "BikesCo",
  "costPrice": "500.00",
  "retailPrice": "899.99",
  "commissionPercentage": "15.00"
}

### Get product by ID (replace with actual ID from create response)
@productId = 7c3d1d85-e22e-442f-9a96-b6be6a88c4f6
GET {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}
Accept: application/json

### Update a product (replace with actual ID)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}
Content-Type: application/json

{
  "productType": "Bike",
  "name": "Mountain Bike Pro - Updated",
  "description": "High-performance mountain bike with upgrades",
  "supplier": "BikesCo",
  "costPrice": "550.00",
  "retailPrice": "999.99",
  "commissionPercentage": "15.00"
}

### Create another product example
POST {{BespokedBikes.Api_HostAddress}}/api/products
Content-Type: application/json

{
  "productType": "Bike",
  "name": "Road Bike Elite",
  "description": "Lightweight racing bike",
  "supplier": "SpeedCycles",
  "costPrice": "800.00",
  "retailPrice": "1499.99",
  "commissionPercentage": "12.50"
}

###

# ============================================
# Employee Endpoints
# ============================================

### List all employees
GET {{BespokedBikes.Api_HostAddress}}/api/employees
Accept: application/json

### Create a new employee with multiple roles
POST {{BespokedBikes.Api_HostAddress}}/api/employees
Content-Type: application/json

{
  "name": "John Doe",
  "location": 0,
  "roles": [0, 2],
  "hireDate": "2024-01-15T00:00:00Z"
}

### Create employee - Salesperson only
POST {{BespokedBikes.Api_HostAddress}}/api/employees
Content-Type: application/json

{
  "name": "Jane Smith",
  "location": 0,
  "roles": [0],
  "hireDate": "2024-02-01T00:00:00Z"
}

### Create employee - Fulfillment only
POST {{BespokedBikes.Api_HostAddress}}/api/employees
Content-Type: application/json

{
  "name": "Bob Johnson",
  "location": 0,
  "roles": [1],
  "hireDate": "2024-03-15T00:00:00Z"
}

### Get employee by ID (replace with actual ID from create response)
@employeeId = replace-with-actual-id
GET {{BespokedBikes.Api_HostAddress}}/api/employees/{{employeeId}}
Accept: application/json

###

# ============================================
# Customer Endpoints (Simplified)
# ============================================

### Search/List all customers (searchTerm parameter not implemented - returns all)
GET {{BespokedBikes.Api_HostAddress}}/api/customers
Accept: application/json

### Create a new customer
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "Alice Anderson"
}

### Create another customer
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "Bob Builder"
}

### Create customer with longer name
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "Christopher Michael Davidson-Wellington III"
}

### Get customer by ID (replace with actual ID from create response)
@customerId = replace-with-actual-id
GET {{BespokedBikes.Api_HostAddress}}/api/customers/{{customerId}}
Accept: application/json

### Update a customer (replace with actual ID)
PUT {{BespokedBikes.Api_HostAddress}}/api/customers/{{customerId}}
Content-Type: application/json

{
  "name": "Alice Anderson-Smith"
}

### Delete a customer (replace with actual ID)
DELETE {{BespokedBikes.Api_HostAddress}}/api/customers/{{customerId}}

# ============================================
# Customer Validation Tests
# ============================================

### Test: Create customer with empty name (should fail validation)
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": ""
}

### Test: Create customer with name too long (should fail if > 200 chars)
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "This is a very long name that exceeds the maximum length allowed for customer names in the system and should trigger a validation error because it is longer than two hundred characters which is the maximum allowed length for this field"
}

### Test: Create customer with missing name field (should fail validation)
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
}

### Test: Create customer with null name (should fail validation)
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": null
}

### Test: Get customer with non-existent ID (should return 404)
GET {{BespokedBikes.Api_HostAddress}}/api/customers/00000000-0000-0000-0000-000000000000
Accept: application/json

### Test: Get customer with invalid GUID format (should return 400)
GET {{BespokedBikes.Api_HostAddress}}/api/customers/invalid-guid
Accept: application/json

### Test: Update customer with empty name (should fail validation)
PUT {{BespokedBikes.Api_HostAddress}}/api/customers/{{customerId}}
Content-Type: application/json

{
  "name": ""
}

### Test: Delete non-existent customer (should return 404)
DELETE {{BespokedBikes.Api_HostAddress}}/api/customers/00000000-0000-0000-0000-000000000000

# ============================================
# Customer Workflow Example
# ============================================

### Step 1: Create a customer and note the ID from response
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "Test Customer for Workflow"
}

### Step 2: List all customers to verify creation
GET {{BespokedBikes.Api_HostAddress}}/api/customers
Accept: application/json

### Step 3: Get the specific customer by ID (use ID from step 1)
@workflowCustomerId = replace-with-id-from-step-1
GET {{BespokedBikes.Api_HostAddress}}/api/customers/{{workflowCustomerId}}
Accept: application/json

### Step 4: Update the customer name
PUT {{BespokedBikes.Api_HostAddress}}/api/customers/{{workflowCustomerId}}
Content-Type: application/json

{
  "name": "Updated Workflow Customer"
}

### Step 5: Verify the update
GET {{BespokedBikes.Api_HostAddress}}/api/customers/{{workflowCustomerId}}
Accept: application/json

### Step 6: Delete the customer
DELETE {{BespokedBikes.Api_HostAddress}}/api/customers/{{workflowCustomerId}}

### Step 7: Verify deletion (should return 404)
GET {{BespokedBikes.Api_HostAddress}}/api/customers/{{workflowCustomerId}}
Accept: application/json

###

# ============================================
# Inventory Management Endpoints
# ============================================

### Update product inventory (creates if doesn't exist, updates if exists)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 50
}

### Update inventory to different quantity
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 35
}

### Set inventory to zero (out of stock)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 0
}

### Restock inventory
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 100
}

# ============================================
# Inventory Workflow Example
# ============================================

### Step 1: Create a product for inventory testing
POST {{BespokedBikes.Api_HostAddress}}/api/products
Content-Type: application/json

{
  "productType": "Bike",
  "name": "Test Bike for Inventory",
  "description": "Used for testing inventory management",
  "supplier": "TestSupplier",
  "costPrice": "300.00",
  "retailPrice": "599.99",
  "commissionPercentage": "10.00"
}

### Step 2: Set initial inventory (use product ID from step 1)
@inventoryProductId = replace-with-id-from-step-1
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{inventoryProductId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 25
}

### Step 3: Simulate a sale - reduce inventory
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{inventoryProductId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 24
}

### Step 4: Simulate receiving shipment - increase inventory
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{inventoryProductId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 74
}

# ============================================
# Inventory Validation Tests
# ============================================

### Test: Update inventory with negative quantity (should fail validation)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": -5
}

### Test: Update inventory for non-existent product (should return 404)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/00000000-0000-0000-0000-000000000000/inventory
Content-Type: application/json

{
  "location": "STORE",
  "quantity": 10
}

### Test: Update inventory with missing location (should fail validation)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "quantity": 10
}

### Test: Update inventory with missing quantity (should fail validation)
PUT {{BespokedBikes.Api_HostAddress}}/api/products/{{productId}}/inventory
Content-Type: application/json

{
  "location": "STORE"
}

###

# ============================================
# Sales Management Endpoints
# ============================================

### Create a sale
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "{{customerId}}",
  "soldByEmployeeId": "{{employeeId}}",
  "productId": "{{productId}}",
  "salePrice": "899.99",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T10:30:00Z"
}

### Get sale by ID (replace with actual ID from create response)
@saleId = replace-with-actual-id
GET {{BespokedBikes.Api_HostAddress}}/api/sales/{{saleId}}
Accept: application/json

### Get sales by date range (all sales)
GET {{BespokedBikes.Api_HostAddress}}/api/sales?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
Accept: application/json

### Get sales by date range with status filter (pending only)
GET {{BespokedBikes.Api_HostAddress}}/api/sales?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z&status=Pending
Accept: application/json

### Get sales by date range with status filter (fulfilled only)
GET {{BespokedBikes.Api_HostAddress}}/api/sales?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z&status=Fulfilled
Accept: application/json

# ============================================
# Sales Workflow Example
# ============================================

### Step 1: Create a product for sale
POST {{BespokedBikes.Api_HostAddress}}/api/products
Content-Type: application/json

{
  "productType": "Bike",
  "name": "City Commuter Bike",
  "description": "Perfect for urban commuting",
  "supplier": "UrbanCycles",
  "costPrice": "400.00",
  "retailPrice": "799.99",
  "commissionPercentage": "12.00"
}

### Step 2: Create a customer
POST {{BespokedBikes.Api_HostAddress}}/api/customers
Content-Type: application/json

{
  "name": "Sarah Johnson"
}

### Step 3: Create an employee (salesperson)
POST {{BespokedBikes.Api_HostAddress}}/api/employees
Content-Type: application/json

{
  "name": "Mike Sales",
  "location": "STORE",
  "roles": ["Salesperson"],
  "hireDate": "2023-06-01T00:00:00Z"
}

### Step 4: Create a sale (use IDs from previous responses)
@salesProductId = replace-with-product-id-from-step-1
@salesCustomerId = replace-with-customer-id-from-step-2
@salesEmployeeId = replace-with-employee-id-from-step-3

POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "{{salesCustomerId}}",
  "soldByEmployeeId": "{{salesEmployeeId}}",
  "productId": "{{salesProductId}}",
  "salePrice": "799.99",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T14:30:00Z"
}

### Step 5: Get the sale to verify commission calculation
@workflowSaleId = replace-with-sale-id-from-step-4
GET {{BespokedBikes.Api_HostAddress}}/api/sales/{{workflowSaleId}}
Accept: application/json

### Step 6: Get all sales for the date range
GET {{BespokedBikes.Api_HostAddress}}/api/sales?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
Accept: application/json

# ============================================
# Sales Validation Tests
# ============================================

### Test: Create sale with non-existent customer (should return 404)
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "00000000-0000-0000-0000-000000000000",
  "soldByEmployeeId": "{{employeeId}}",
  "productId": "{{productId}}",
  "salePrice": "799.99",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T10:30:00Z"
}

### Test: Create sale with non-existent employee (should return 404)
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "{{customerId}}",
  "soldByEmployeeId": "00000000-0000-0000-0000-000000000000",
  "productId": "{{productId}}",
  "salePrice": "799.99",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T10:30:00Z"
}

### Test: Create sale with non-existent product (should return 404)
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "{{customerId}}",
  "soldByEmployeeId": "{{employeeId}}",
  "productId": "00000000-0000-0000-0000-000000000000",
  "salePrice": "799.99",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T10:30:00Z"
}

### Test: Create sale with invalid price format (should fail validation)
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "customerId": "{{customerId}}",
  "soldByEmployeeId": "{{employeeId}}",
  "productId": "{{productId}}",
  "salePrice": "799.9",
  "saleChannel": "In-Store",
  "location": "STORE",
  "saleDate": "2024-01-15T10:30:00Z"
}

### Test: Create sale with missing required fields (should fail validation)
POST {{BespokedBikes.Api_HostAddress}}/api/sales
Content-Type: application/json

{
  "salePrice": "799.99"
}

###
